
13.01.2026

  Ziel:
  Umsetzung eines Python-Projekts mit OpenCV (cv2):
  Webcam-Bild erfassen, Gesicht erkennen und später das Gesicht in ein vorgegebenes Bild mit “Loch”    einsetzen.

  Setup/Installation
  - Projekt in PyCHarm angelegt und eine virtuelle Umgebung (.venv) verwendet
  - Installierte Bibliotheken:
        - opencv-python (Computer Vision / Kamera / Bildverarbeitung)
        - numpy (Bilddaten als Arrays, Masken, Blending)

  Webcam + Gesichtserkennung:
  - Webcam-Stream über cv2.VideoCapture(...) öffnen
  - Ausgabe als Live-Preview

  Template
  soll an der Loch-Position transparent sein, damit das eingefügte Gesicht sichtbar wird.
  Mit Photoshop Bereich entfernt, Export als PNG

  Quellen: 
  - OpenCV (Python) – Install/Docs: https://pypi.org/project/opencv-python/
  - Haar-Cascades (Face Detection, OpenCV Doku): https://docs.opencv.org/4.x/d7/d8b/tutorial_py_face_detection.html
  - NumPy (für Arrays/Masken): https://numpy.org/doc/
  - ChatGPT


## 20.01.2026

## Ziel für heute
- Implementierung der Face-in-Hole-Funktion mit PNG-Template und Transparenz (Alpha)
- Automatische Positionierung des Gesichts im Loch
- Stabilisierung der Gesichtsdarstellung
- Analyse von Problemen bei der Gesichtserkennung

## Durchgeführte Arbeiten
- Bestehenden Webcam- und Face-Detection-Code (OpenCV, Haar Cascade) analysiert
- PNG-Template mit Alpha-Kanal in das Programm eingebunden
- Alpha-Compositing implementiert (Webcam-Bild hinter PNG)
- Verschiedene Ansätze zur Platzierung des Gesichts getestet:
  - Einfügen eines ausgeschnittenen Gesichtsbereichs in das Loch
  - Automatische Skalierung und Verschiebung des Gesichts
  - Transformation des gesamten Kamerabildes (Affine Transformation)
- Spiegelung des Kamerabildes (Selfie-Ansicht) umgesetzt
- Debug-Ausgaben zur Gesichtserkennung ergänzt

## Probleme / Schwierigkeiten
- Die Haar-Cascade-Gesichtserkennung arbeitet nicht stabil genug
- Gesicht wird nicht zuverlässig erkannt → teilweise nur Schulter oder Hintergrund sichtbar
- Automatische Zentrierung des Gesichts im Loch funktioniert nicht zuverlässig
- Unterschiedliches Verhalten je nach Abstand, Licht und Kamerawinkel

## Verwendete Quellen 

### OpenCV – Dokumentation
- https://docs.opencv.org/
- zuletzt besucht: 20.01.2026

### Haar Cascade Klassifikatoren
- https://github.com/opencv/opencv/tree/master/data/haarcascades
- zuletzt besucht: 20.01.2026

### Alpha-Compositing / Alpha-Blending
- https://learnopencv.com/alpha-blending-using-opencv-cpp-python/
- zuletzt besucht: 20.01.2026

### KI-Unterstützung
- ChatGPT (OpenAI)
- Einsatz zur Unterstützung bei Code-Analyse, Strukturierung und Erklärung
- Inhalte wurden eigenständig überprüft und getestet

27.01.2026
Ziel für heute

Baseline stabil beibehalten (Face-in-Hole funktioniert)

Oval/Template-Loch automatisch erkennen und korrekt verwenden

Template-Wechsel per Tastendruck implementieren

Live-Steuerung für Zoom/Debug/Screenshot/Parameter-Ausgabe fertigstellen

Durchgeführte Arbeiten

Spiegelung des Webcam-Bildes dauerhaft aktiviert (cv2.flip(frame, 1)), damit die Darstellung konsistent „Selfie-like“ ist.

Einfügen des Gesichts auf Oval/elliptische Maske umgestellt (statt Kreis).

Loch-Erkennung automatisiert: transparentes Loch wird über den Alpha-Kanal des PNG gefunden und als Ellipse angenähert (cv2.fitEllipse, Fallback Bounding-Box).

Gesichtsgröße stabilisiert: Gesicht wirkt zu klein/zu groß → ROI wird per Scale-Faktoren (FACE_SCALE_X/Y) angepasst, sodass weniger Umfeld sichtbar ist, ohne extremes Reinzoomen.

Tastensteuerung implementiert:

[ / ], ; / ' (Zoom)

d (Debug)

p (Werte ausgeben)

s (Screenshot)

ESC/q (Beenden)

Template-Wechsel umgesetzt:

Laden mehrerer Templates über TEMPLATE_PATHS

Wechsel per n/b und 1–4

Dateinamen-Thema festgehalten: aktuelles Template heißt template_v2 → Eintrag in TEMPLATE_PATHS angepasst/zu prüfen (inkl. .png).

Ergebnis / Stand

Programm läuft stabil mit Oval-Loch und Live-Justierung.

Templates können während der Laufzeit gewechselt werden, sofern sie als PNG mit Alpha vorliegen.

Offene Punkte

Weitere Templates erstellen (PNG mit transparentem Oval) und ins GitHub-Repo aufnehmen.

OpenCV – Funktion fitEllipse / Ellipse-Verarbeitung

https://docs.opencv.org/
 (zuletzt besucht: 27.01.2026)
Verwendet zur Überprüfung von Ellipse-Maske und Kontur-/Form-Funktionen.

OpenCV – Konturen (findContours) und Masken

https://docs.opencv.org/
 (zuletzt besucht: 27.01.2026)
Verwendet zur Überprüfung von Loch-Erkennung über Alpha-Kanal (Konturen der transparenten Fläche).

OpenCV – Bildspiegelung (cv2.flip)

https://docs.opencv.org/
 (zuletzt besucht: 27.01.2026)
Verwendet zur Verifikation der Mirror-Funktion für konsistente Selfie-Ansicht.

KI-Unterstützung

ChatGPT (OpenAI) (zuletzt besucht: 27.01.2026)
Einsatz zur Entwicklung/Verbesserung von Code-Struktur, Steuerung per Tastatur, Maskenlogik.
Inhalte wurden durch Tests im eigenen Projekt und Abgleich mit OpenCV-Dokumentation überprüft.
